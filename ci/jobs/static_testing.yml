docker_linting:
  stage: static_testing
  image: hadolint/hadolint:latest-debian
  script:
    - hadolint Dockerfile
  only:
    - main

semgrep_scan:
  stage: static_testing
  image: semgrep/semgrep:latest
  script:
    - echo "Starting Semgrep Scan..." > debug.log
    - semgrep login && semgrep ci > debug.log 2>&1
    - echo " Completed Semgrep Scan..." >> debug.log
  artifacts:
    paths:
      - debug.log
  only:
    - main